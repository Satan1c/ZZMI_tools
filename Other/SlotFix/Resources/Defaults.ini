namespace = ZZMI

[CommandListSaveDefault]
if DRAW_TYPE == 2 || DRAW_TYPE == 4
	run = CommandList\SlotFix\SaveDefault
endif

[CommandListLoadDefault]
run = CommandList.Set.Default
run = CommandListSetTextures
run = CommandList.Clear.Default

[ResourceDefault.Diffuse]
[ResourceDefault.NormalMap]
[ResourceDefault.LightMap]
[ResourceDefault.MaterialMap]

[CommandList.Set.Default]
ResourceDiffuse = ref ResourceDefault.Diffuse unless_null
ResourceNormalMap = ref ResourceDefault.NormalMap unless_null
ResourceLightMap = ref ResourceDefault.LightMap unless_null
ResourceMaterialMap = ref ResourceDefault.MaterialMap unless_null

[CommandList.Clear.Default]
ResourceDefault.Diffuse = null
ResourceDefault.NormalMap = null
ResourceDefault.LightMap = null
ResourceDefault.MaterialMap = null
